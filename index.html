<!DOCTYPE html>
<html lang="sv">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Aktörskarta & Lista</title>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css" />
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<style>
body { font-family: Arial, sans-serif; margin: 0; padding: 0; }
h1 { text-align: center; margin: 10px 0; }
.container { display: flex; flex-wrap: wrap; }
#table-container { flex: 1 1 50%; padding: 10px; min-width: 300px; }
#map { flex: 1 1 50%; height: 80vh; min-width: 300px; }
.legend { margin: 10px; padding: 10px; border: 1px solid #ddd; background: #f9f9f9; }
.legend div { margin: 3px 0; }
.color-box { display: inline-block; width: 12px; height: 12px; margin-right: 5px; }
@media (max-width: 800px) {
.container { flex-direction: column; }
#map { height: 50vh; }
}
</style>
</head>
<body>
<h1>Aktörskarta & Lista</h1>
<div class="container">
<div id="table-container">
<table id="actorsTable" class="display">
<thead>
<tr>
<th>Kategori</th>
<th>Organisation</th>
<th>Region</th>
</tr>
</thead>
<tbody></tbody>
</table>
</div>
<div id="map"></div>
</div>
<div class="legend">
<h3>Legend</h3>
<div><span class="color-box" style="background:red"></span> Näringsliv</div>
<div><span class="color-box" style="background:blue"></span> Offentlig sektor</div>
<div><span class="color-box" style="background:gold"></span> Universitet/Forskning</div>
<div><span class="color-box" style="background:green"></span> Samarbete/Nätverk</div>
<div><span class="color-box" style="background:orange"></span> Kultur</div>
<div><span class="color-box" style="background:purple"></span> Sport</div>
</div>


<script>
const actors = [
{category: "Näringsliv", name: "Samling Näringsliv", region: "Jämtland", lat: 63.17917, lon: 14.63583, color: "red"},
{category: "Näringsliv", name: "IUC Jämtland Härjedalen", region: "Jämtland", lat: 63.17917, lon: 14.63583, color: "red"},
{category: "Offentlig sektor", name: "Region Jämtland Härjedalen", region: "Jämtland", lat: 63.1767, lon: 14.6361, color: "blue"},
{category: "Universitet/Forskning", name: "Mittuniversitetet", region: "Jämtland", lat: 63.1792, lon: 14.644, color: "gold"},
{category: "Samarbete/Nätverk", name: "Fellesrådet Trøndelag JH", region: "Trøndelag/JH", lat: 63.0, lon: 11.0, color: "green"},
{category: "Kultur", name: "Gaaltije – sydsamiskt kulturcentrum", region: "Jämtland", lat: 63.318, lon: 13.829, color: "orange"},
{category: "Sport", name: "Östersunds FK", region: "Jämtland", lat: 63.179, lon: 14.65, color: "purple"}
];


// Fyll tabell
const tableBody = document.querySelector('#actorsTable tbody');
actors.forEach(a => {
tableBody.innerHTML += `<tr data-lat="${a.lat}" data-lon="${a.lon}"><td style="color:${a.color}">${a.category}</td><td>${a.name}</td><td>${a.region}</td></tr>`;
});


$(document).ready(function(){
const dataTable = $('#actorsTable').DataTable();
$('#actorsTable tbody').on('click', 'tr', function() {
const lat = this.dataset.lat, lon = this.dataset.lon;
