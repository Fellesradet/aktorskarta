<!DOCTYPE html>
<html lang="sv">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Organisationer Karta</title>
<style>
  body { font-family: Arial, sans-serif; margin: 0; display: flex; height: 100vh; }
  #sidebar { width: 300px; overflow-y: auto; border-right: 1px solid #ccc; padding: 10px; }
  #map { flex: 1; }
  .org-item { padding: 5px; cursor: pointer; }
  .org-item:hover { background-color: #f0f0f0; }
  .filter-btn { margin: 2px; padding: 5px 10px; cursor: pointer; border: 1px solid #ccc; border-radius: 4px; }
  .filter-btn.active { background-color: #ddd; }
</style>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
</head>
<body>

<div id="sidebar">
  <div id="filter-buttons"></div>
  <div id="org-list"></div>
</div>

<div id="map"></div>

<script>
const orgs = [
{kategori:"Näringsliv", namn:"Samling Näringsliv", lat:63.17917, lon:14.63583, färg:"Röd"},
{kategori:"Näringsliv", namn:"IUC Jämtland Härjedalen", lat:63.17917, lon:14.63583, färg:"Röd"},
{kategori:"Näringsliv", namn:"Handelskammaren Mitt", lat:63.17917, lon:14.63583, färg:"Röd"},
{kategori:"Näringsliv", namn:"Företagarna", lat:63.17917, lon:14.63583, färg:"Röd"},
{kategori:"Näringsliv", namn:"Jämtland Härjedalen Turism (JHT)", lat:63.17917, lon:14.63583, färg:"Röd"},
{kategori:"Näringsliv", namn:"Svenskt Näringsliv Jämtland", lat:63.17917, lon:14.63583, färg:"Röd"},
{kategori:"Näringsliv", namn:"Nyföretagarcentrum", lat:63.17917, lon:14.63583, färg:"Röd"},
{kategori:"Näringsliv", namn:"Lantbrukarnas riksorganisation (LRF)", lat:63.17917, lon:14.63583, färg:"Röd"},
{kategori:"Näringsliv", namn:"Peak Inkubator", lat:63.17917, lon:14.63583, färg:"Röd"},
{kategori:"Näringsliv", namn:"NHO Næringslivets Hovedorganisasjon", lat:63.44683, lon:10.42191, färg:"Röd"},
{kategori:"Näringsliv", namn:"Næringsforeningen i Trondheimsregionen (NiT)", lat:63.44683, lon:10.42191, färg:"Röd"},
{kategori:"Näringsliv", namn:"Innherred Næringsforening", lat:64.01519, lon:11.49526, färg:"Röd"},
{kategori:"Näringsliv", namn:"Rørosregionen Næringshage", lat:62.5747, lon:11.3842, färg:"Röd"},
{kategori:"Näringsliv", namn:"Nasjonalparken Næringshage", lat:62.5747, lon:11.3842, färg:"Röd"},
{kategori:"Näringsliv", namn:"FI Næringshage", lat:64.01519, lon:11.49526, färg:"Röd"},
{kategori:"Näringsliv", namn:"Tindved Kulturhage", lat:64.01519, lon:11.49526, färg:"Röd"},
{kategori:"Näringsliv", namn:"Næringshagen Hitra og Frøya", lat:63.5453, lon:8.9320, färg:"Röd"},
{kategori:"Näringsliv", namn:"Blått Kompetansesenter AS", lat:63.44683, lon:10.42191, färg:"Röd"},
{kategori:"Näringsliv", namn:"INAM AS (Innovasjon Namdal)", lat:64.4662, lon:11.4957, färg:"Röd"},
{kategori:"Näringsliv", namn:"Thams Innovasjon AS", lat:63.44683, lon:10.42191, färg:"Röd"},
{kategori:"Näringsliv", namn:"Naeringsforeningen i Vaernesregionen", lat:63.4669, lon:11.1863, färg:"Röd"},
{kategori:"Näringsliv", namn:"Proneo", lat:64.01519, lon:11.49526, färg:"Röd"},
{kategori:"Näringsliv", namn:"Fremtidens Industri AS (FI)", lat:63.44683, lon:10.42191, färg:"Röd"},
{kategori:"Näringsliv", namn:"Trøndelag Reiseliv", lat:63.44683, lon:10.42191, färg:"Röd"},
{kategori:"Näringsliv", namn:"Nordsec (tidigare Midsec)", lat:63.44683, lon:10.42191, färg:"Röd"},
{kategori:"Näringsliv", namn:"Industrinavet i Trøndelag", lat:63.44683, lon:10.42191, färg:"Röd"},
{kategori:"Näringsliv", namn:"RENERGY – Renewable Energy Cluster", lat:63.44683, lon:10.42191, färg:"Röd"},
{kategori:"Näringsliv", namn:"WoodWorks! Cluster", lat:63.44683, lon:10.42191, färg:"Röd"},
{kategori:"Näringsliv", namn:"Uniper", lat:63.17917, lon:14.63583, färg:"Röd"},
{kategori:"Näringsliv", namn:"Aneo", lat:63.44683, lon:10.42191, färg:"Röd"},
{kategori:"Näringsliv", namn:"Ritek", lat:63.7464, lon:11.2941, färg:"Röd"},
{kategori:"Näringsliv", namn:"Persson Invest", lat:63.17917, lon:14.63583, färg:"Röd"},
{kategori:"Offentlig sektor", namn:"Statsforvalteren", lat:63.44683, lon:10.42191, färg:"Blå"},
{kategori:"Offentlig sektor", namn:"Helse Midt-Norge RHF", lat:64.01519, lon:11.49526, färg:"Blå"},
{kategori:"Offentlig sektor", namn:"Statens vägvesende", lat:63.44683, lon:10.42191, färg:"Blå"},
{kategori:"Offentlig sektor", namn:"Politi", lat:63.44683, lon:10.42191, färg:"Blå"},
{kategori:"Offentlig sektor", namn:"Tolletaten", lat:63.44683, lon:10.42191, färg:"Blå"},
{kategori:"Offentlig sektor", namn:"NAV", lat:63.44683, lon:10.42191, färg:"Blå"},
{kategori:"Offentlig sektor", namn:"Försvarskoordinatorn Trøndelag", lat:63.44683, lon:10.42191, färg:"Blå"},
{kategori:"Offentlig sektor", namn:"Kommunförbundet Trøndelag", lat:63.44683, lon:10.42191, färg:"Blå"},
{kategori:"Offentlig sektor", namn:"Skatteetaten", lat:63.44683, lon:10.42191, färg:"Blå"},
{kategori:"Offentlig sektor", namn:"Länsstyrelsen", lat:63.17917, lon:14.63583, färg:"Blå"},
{kategori:"Offentlig sektor", namn:"Arbetsförmedlingen", lat:63.17917, lon:14.63583, färg:"Blå"},
{kategori:"Offentlig sektor", namn:"Polisen", lat:63.17917, lon:14.63583, färg:"Blå"},
{kategori:"Offentlig sektor", namn:"Försäkringskassan", lat:63.17917, lon:14.63583, färg:"Blå"},
{kategori:"Offentlig sektor", namn:"Tullverket", lat:63.17917, lon:14.63583, färg:"Blå"},
{kategori:"Offentlig sektor", namn:"Skatteverket", lat:63.17917, lon:14.63583, färg:"Blå"},
{kategori:"Offentlig sektor", namn:"Almi", lat:63.17917, lon:14.63583, färg:"Blå"},
{kategori:"Offentlig sektor", namn:"Kommunförbundet JH", lat:63.17917, lon:14.63583, färg:"Blå"},
{kategori:"Offentlig sektor", namn:"Sametinget", lat:63.17917, lon:14.63583, färg:"Blå"},
{kategori:"Offentlig sektor", namn:"Samverket/Myndighetsnätverket", lat:63.17917, lon:14.63583, färg:"Blå"},
{kategori:"Utbildning", namn:"Mittuniversitetet (MIUN)", lat:63.17917, lon:14.63583, färg:"Gul"},
{kategori:"Utbildning", namn:"Hushållningssällskapet", lat:63.17917, lon:14.63583, färg:"Gul"},
{kategori:"Utbildning", namn:"Torsta AB", lat:63.0000, lon:14.5000, färg:"Gul"},
{kategori:"Utbildning", namn:"Norwegian University of Science and Technology NTNU", lat:63.44683, lon:10.42191, färg:"Gul"},
{kategori:"Utbildning", namn:"NTNU:s Næringslivsringer", lat:63.44683, lon:10.42191, färg:"Gul"},
{kategori:"Utbildning", namn:"Dronning Mauds Minne Høgskole DMMH", lat:63.44683, lon:10.42191, färg:"Gul"},
{kategori:"Utbildning", namn:"Nord universitet (Campus Levanger, Steinkjer och Namsos)", lat:63.7464, lon:11.2941, färg:"Gul"},
{kategori:"Utbildning", namn:"Sintef", lat:63.44683, lon:10.42191, färg:"Gul"},
{kategori:"Utbildning", namn:"Falstadsenteret", lat:63.6500, lon:11.2833, färg:"Gul"}
];

const map = L.map('map').setView([63.17917, 14.63583], 6);
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
  maxZoom: 18,
}).addTo(map);

const markerLayer = L.layerGroup().addTo(map);

const categories = [...new Set(orgs.map(o=>o.kategori))];
categories.unshift("Alla");

const filterContainer = document.getElementById("filter-buttons");
categories.forEach(cat=>{
  const btn = document.createElement("button");
  btn.textContent = cat;
  btn.className = "filter-btn";
  if(cat==="Alla") btn.classList.add("active");
  btn.onclick = ()=>{
    document.querySelectorAll(".filter-btn").forEach(b=>b.classList.remove("active"));
    btn.classList.add("active");
    renderList(cat);
  };
  filterContainer.appendChild(btn);
});

function renderList(category){
  markerLayer.clearLayers();
  const list = document.getElementById("org-list");
  list.innerHTML="";
  orgs.filter(o=>category==="Alla"||o.kategori===category).forEach(o=>{
    const div = document.createElement("div");
    div.className="org-item";
    div.textContent=o.namn;
    div.style.borderLeft="5px solid "+o.färg;
    div.onclick=()=>{
      map.setView([o.lat,o.lon],12);
    };
    list.appendChild(div);

    const marker = L.circleMarker([o.lat,o.lon],{radius:8,color:o.färg}).addTo(markerLayer);
    marker.bindPopup(o.namn);
  });
}

renderList("Alla");
</script>

</body>
</html>
